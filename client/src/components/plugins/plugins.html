<navbar></navbar>
<div class="container" >
    <div class="col-md-6 col-md-offset-3">

        <!-- Search Form -->
        <form role="form" ng-submit="vm.onSubmit()">
        
        <!-- Search Field -->
            <div class="row">
                <h1 class="text-center">Search HomeBridge Plugins</h1>
                <div class="form-group">
                    <div class="input-group">
                        <input 
                          type="text"
                          ng-model="vm.query" 
                          placeholder="homebridge-" 
                          typeahead-template-url="customTemplate.html" 
                           
                          typeahead-loading="loadingSuggestions" 
                          typeahead-no-results="noResults" 
                          class="form-control">
                        <span class="input-group-btn">
                            <button class="btn btn-success" type="submit"><span class="glyphicon glyphicon-search" aria-hidden="true"><span style="margin-left:10px;">Search</span></button>
                        </span>
                        </span>
                    </div>
                    <i ng-show="loadingSuggestions" class="glyphicon glyphicon-refresh"></i>
                    <div ng-show="noResults">
                      <i class="glyphicon glyphicon-remove"></i> No Results Found
                    </div>

                </div>
            </div>
            
        </form>
        <!-- End of Search Form -->
            
    </div>
</div>
<script type="text/ng-template" id="customTemplate.html">
  <a>
      <img ng-src="http://upload.wikimedia.org/wikipedia/commons/thumb/{{match.model.flag}}" width="16">
      <span ng-bind-html="match.label | uibTypeaheadHighlight:query"></span>
  </a>
</script>
<div class="container">
<ul>
  <li ng-repeat="(key, value) in vm.result.results">
    <h3><i style="margin-right: 5px; color:#5cb85c" class="glyphicon glyphicon-ok-circle" ng-if="vm.installed[value.package.name]"></i>{{value.package.name}}</h3>
    <div>{{value.package.description}}</div>
  </li>
</ul>
</div>
<!--uib-typeahead="data for data in vm.getSuggestions($viewValue, 10)"-->